# 恐怖惊魂夜 - 游戏设计文档

## 游戏简介

《恐怖惊魂夜》是一款互动式恐怖推理文字游戏，玩家扮演大学生"透"，在深冬的雪山旅馆"修普尔"中遭遇一系列离奇的杀人事件。玩家需要通过探索、推理和选择，揭开隐藏在雪夜中的真相。

**核心玩法**: 沉浸式探索 → 自然对话互动 → 主动调查 → 自由推理 → 渐进式揭露真相

---

## AI交互式游戏设计原则（v0.0.2更新）

### 核心理念：次世代交互体验

本游戏采用AI原生的交互设计，区别于传统选择式游戏书：

#### 1. 渐进式叙事（对抗阅读压力）

**问题**：一次性输出大量文本导致阅读疲劳
**解决方案**：
- ✅ **分段推进**：每次输出控制在200-400字
- ✅ **交互式暂停**：重要场景后，等待玩家输入"继续"或提出行动
- ✅ **节奏控制**：根据场景紧张度调整输出节奏
- ✅ **视觉分隔**：使用"---"或空行分隔不同段落

**示例**：
```
[场景描述 200字]

你注意到了什么？或者想做什么？
（等待玩家输入）

[根据玩家行动继续 200字]
```

#### 2. 隐性引导（提升探索成就感）

**问题**：直接列出选项A/B/C，剥夺思考乐趣
**解决方案**：
- ✅ **移除明显选项**：不再使用"选项A/B/C"
- ✅ **环境暗示**：通过场景描写暗示可能的行动
- ✅ **角色行为**：NPC的动作和对话隐藏线索
- ✅ **自然语言**：玩家用自己的话表达想法
- ✅ **观察系统**：只在玩家卡关时提供"你可以……"的轻度提示

**糟糕示例**：
```
选项A：调查现场
选项B：询问证人
选项C：离开房间
```

**优秀示例**：
```
房间里一片狼藉。墙上的血迹还未干涸，窗户大开着，寒风呼啸而入。
小林先生站在门口，脸色苍白，不停搓着手。
真理紧紧抓着你的胳膊。

你想做什么？
```

#### 3. 场景式章节（延长互动深度）

**问题**：选择后立即跳转下一章节，游戏过快结束
**解决方案**：
- ✅ **完整场景**：每章是一个可充分探索的场景，而非单一分歧点
- ✅ **多轮互动**：玩家可在场景内自由行动、对话、调查
- ✅ **自然过渡**：只有当场景逻辑性结束时才进入下一章
- ✅ **隐藏跳转**：不提示"→ ch1a"，而是自然地"时间来到了..."

**场景互动示例**：
```
你可以：
- 检查任何你感兴趣的物品
- 与任何NPC对话
- 提出推理和假设
- 执行任何合理的行动

场景不会立即结束，你有充分的时间探索。
```

#### 4. 分层信息披露（保持推理挑战性）

**问题**：过早暴露关键线索，聪明玩家立刻猜到答案
**解决方案**：
- ✅ **三层信息结构**：
  - 第一层（表面）：初次观察得到的基本信息
  - 第二层（深入）：需要主动询问或特定行动才能获得
  - 第三层（核心）：需要综合多条线索才能推导
- ✅ **条件性线索**：关键线索需要满足条件才显示
- ✅ **混淆信息**：适当加入红鲱鱼和误导
- ✅ **动态调整**：根据玩家推理能力调整信息给予量

**分层示例**：
```
【第一层 - 免费提供】
"尸体被切割成多块，切口整齐。"

【第二层 - 需要玩家说"我要仔细检查伤口"】
"切口的角度和深度显示使用了专业工具，可能是医疗器械。"

【第三层 - 需要结合医学知识或询问专家】
"这种切割方式需要解剖学知识，凶手可能有医学背景，或者..."
（留白，让玩家思考其他可能性）
```

#### 5. 动态反馈系统

**问题**：玩家不知道自己的行动是否有意义
**解决方案**：
- ✅ **即时反馈**：玩家的每个行动都有回应
- ✅ **线索确认**：发现重要线索时给予肯定，但不说明其重要性
- ✅ **思维引导**：当玩家思路正确时，给予subtle的鼓励
- ✅ **卡关帮助**：识别玩家卡关，提供渐进式提示

**反馈示例**：
```
玩家："我要检查门锁"
系统："你仔细观察门锁，发现了一些有趣的细节..."（肯定行动）

玩家第三次尝试相同行动时：
系统："你已经很仔细地检查过门锁了。或许可以看看其他地方？"（引导转移）
```

### 叙事节奏控制

#### 快节奏场景（紧张时刻）
- 短句
- 快速互动
- 限制选择时间（暗示性）

#### 慢节奏场景（调查、对话）
- 详细描写
- 充分互动空间
- 鼓励深入探索

#### 情感节奏（氛围营造）
- 恐怖场景：降低信息密度，增加不确定性
- 温馨场景：细腻描写，情感交流
- 推理场景：逻辑清晰，信息组织有序

---

## 角色设定

### 主要角色

#### 透（主角）
- **年龄**: 22岁
- **身份**: 大学生，心理学专业
- **性格**: 理性冷静，观察力敏锐，有些理想主义
- **关系**: 真理的男友
- **特点**: 擅长逻辑推理，但有时过于相信自己的判断

#### 真理（女主角）
- **年龄**: 21岁
- **身份**: 大学生，艺术系学生
- **性格**: 温柔善良，敏感细腻
- **关系**: 透的女友，小林夫妇的侄女
- **秘密**: 知道旅馆的某些往事，童年曾在这里度过暑假
- **特点**: 情绪化，但在关键时刻表现出惊人的勇气

#### 小林敏夫（旅馆老板）
- **年龄**: 52岁
- **身份**: "修普尔"旅馆老板
- **性格**: 憨厚老实，沉默寡言
- **秘密**: 20年前旅馆曾发生过一起事故
- **特点**: 总是回避某些话题，对地下室特别敏感

#### 小林惠子（旅馆老板娘）
- **年龄**: 48岁
- **身份**: 旅馆老板娘，真理的叔母
- **性格**: 热情好客，话多健谈
- **秘密**: 对20年前的事故心怀愧疚
- **特点**: 容易紧张，总想转移话题

#### 佐藤健（白领三人组之一）
- **年龄**: 35岁
- **身份**: IT公司项目经理
- **性格**: 领导型人格，自信果断
- **秘密**: 公司账目有问题，来旅馆是为了躲避调查
- **特点**: 总想控制局面，但在危机时刻容易暴露本性

#### 铃木美香（白领三人组之一）
- **年龄**: 28岁
- **身份**: 行政主管
- **性格**: 精明能干，八面玲珑
- **秘密**: 知道佐藤的秘密，想趁机勒索
- **特点**: 观察力强，善于察言观色

#### 田边晃（白领三人组之一）
- **年龄**: 32岁
- **身份**: 技术工程师
- **性格**: 内向谨慎，不善言辞
- **秘密**: 暗恋铃木，对佐藤心怀不满
- **特点**: 技术宅，对机械和电子设备很在行

#### 大阪龙一（关西总裁）
- **年龄**: 58岁
- **身份**: 大阪某建筑公司社长
- **性格**: 豪爽大方，讲义气
- **秘密**: 20年前的事故与他的公司有关
- **特点**: 关西腔，喜欢喝酒，但藏着心事

#### 大阪绫子（总裁夫人）
- **年龄**: 53岁
- **身份**: 家庭主妇，大阪龙一的妻子
- **性格**: 优雅端庄，但有些神经质
- **秘密**: 知道丈夫的某些过往
- **特点**: 容易受惊，经常服用镇定剂

#### 田中一郎（第一个受害者）
- **年龄**: 42岁
- **身份**: 表面上是自由职业者
- **性格**: 沉默冷酷，警惕性极高
- **真实身份**: 私家侦探，正在调查20年前的事故
- **特点**: 总戴着墨镜，黑帮打扮是伪装
- **死亡**: 第一章被残忍杀害，尸体被切割

---

## 故事背景与真相

### 20年前的事故（核心真相）

20年前的冬天，"修普尔"旅馆正在进行扩建工程，由大阪龙一的公司承建。工程中因为偷工减料，导致地下室坍塌，压死了一名工人——**田中健司**（田中一郎的哥哥）。

当时在场的人：
- **小林夫妇**: 旅馆老板，目睹了事故但被收买沉默
- **大阪龙一**: 建筑公司老板，支付了封口费掩盖真相
- **佐藤健**: 当时是实习生，参与了伪造事故报告（这也是他现在做假账的起点）

事故被掩盖，对外宣称是工人自己违规操作。田中健司的弟弟田中一郎成为私家侦探，花了20年追查真相。

### 真正的凶手与动机

**真凶**: 可以根据玩家的选择和推理方向有多个可能：

1. **主线真凶——大阪绫子**
   - **动机**: 20年前她是小林家的雇工，亲眼目睹事故并爱上了受害者田中健司。事故发生后，她被封口费收买嫁给大阪龙一，但内心一直憎恨所有隐瞒真相的人。田中一郎的出现让她害怕真相曝光，丈夫会入狱，自己的过去也会被揭露。
   - **作案方式**: 利用旅馆布局和暴风雪制造密室杀人
   - **证据**: 她的镇定剂瓶子（用来迷晕受害者）、手套上的血迹、日记本

2. **分支真凶——佐藤健**
   - **动机**: 害怕田中一郎的调查揭露20年前他伪造事故报告的事实，以及他现在的经济犯罪
   - **作案方式**: 利用职业技能伪造现场
   - **证据**: 工具箱里的特殊刀具、财务文件、和田中的冲突记录

3. **隐藏真凶——小林敏夫**
   - **动机**: 20年的愧疚和压力让他精神失常，认为只有"净化"所有知情者才能赎罪
   - **作案方式**: 利用旅馆地下室的秘密通道
   - **证据**: 地下室的血迹、精神药物、妻子惠子的证词

4. **黑暗真相——集体作案**
   - **真相**: 所有知情者因为害怕真相曝光，联手杀死田中一郎，但随后互相猜疑，导致更多死亡
   - **证据**: 多处相互矛盾的证词、共谋的痕迹

---

## 游戏机制

### 核心循环

```
开始章节 → 阅读剧情 → 探索环境 → 发现线索 → 对话互动 → 面临选择 → 进入分支 → 下一章节
```

### 玩家状态追踪

每个章节都会追踪以下状态：

```json
{
  "current_chapter": "ch00_start",
  "alive_characters": ["透", "真理", "小林敏夫", "小林惠子", "佐藤健", "铃木美香", "田边晃", "大阪龙一", "大阪绫子"],
  "dead_characters": ["田中一郎"],
  "collected_clues": [],
  "trust_levels": {
    "真理": 100,
    "小林敏夫": 50,
    "小林惠子": 50,
    "佐藤健": 30,
    "铃木美香": 40,
    "田边晃": 45,
    "大阪龙一": 35,
    "大阪绫子": 40
  },
  "suspicion_points": {
    "小林敏夫": 10,
    "佐藤健": 15,
    "大阪绫子": 20
  },
  "player_choices": [],
  "discovered_secrets": []
}
```

### 线索系统

线索分为四类：

1. **物证**: 物理证据（血迹、工具、文件等）
2. **证词**: 角色的陈述（可能真实或虚假）
3. **矛盾**: 发现的逻辑漏洞
4. **隐藏**: 需要特殊操作才能发现的秘密线索

每条线索有以下属性：
- **ID**: 唯一标识
- **名称**: 线索名称
- **描述**: 详细信息
- **重要性**: 关键/重要/次要
- **指向**: 可能的嫌疑人
- **真实性**: 真实/误导/半真半假

### 推理系统

玩家可以在任何时刻尝试推理，但推理失败会有惩罚：

**推理成功条件**:
1. 正确指认凶手
2. 给出合理的动机解释
3. 提供至少3条关键证据支持

**推理失败后果**:
- 轻度失败（证据不足）：凶手警觉，销毁部分证据
- 中度失败（指认错误）：被指认者失去信任，可能拒绝合作
- 重度失败（激怒凶手）：触发提前杀人事件

**推理时机建议**:
- 过早推理：证据不足，难以成功
- 适时推理：收集足够线索后的最佳时机
- 过晚推理：更多人员死亡，部分线索消失

### 选择系统

每个关键剧情点会提供2-4个选择：

1. **行动选择**: 决定主角的具体行动
   - 影响：剧情走向、获得的线索、角色生死

2. **对话选择**: 决定与其他角色的互动方式
   - 影响：信任度、获得的情报、角色态度

3. **推理选择**: 决定调查的方向
   - 影响：发现的秘密、剧情分支

4. **道德选择**: 涉及价值观的抉择
   - 影响：结局类型、角色关系

---

## 故事树结构

### 章节层级图

```
第0层（开局）
  └─ 第00章：惊魂夜幕 [ch00_start]
      ├─ 第一个分歧：发现尸体后的反应
      │
第1层（初步调查）
      ├─ 第1A章：密室搜证 [ch1a_investigate]
      │   └─ 选择：仔细调查现场，寻找物证
      │
      ├─ 第1B章：守株待兔 [ch1b_ambush]
      │   └─ 选择：设置陷阱等待凶手再次出现
      │
      └─ 第1C章：独自调查 [ch1c_solo]
          └─ 选择：不信任任何人，单独行动
          │
第2层（深入危机）
      ├─ 从第1A章分出：
      │   ├─ 第2A章：雪夜追凶 [ch2a_chase]
      │   │   └─ 发现可疑人影，选择追踪
      │   │
      │   └─ 第2B章：怀疑升级 [ch2b_suspect]
      │       └─ 发现多人撒谎，怀疑有内鬼
      │
      ├─ 从第1B章分出：
      │   ├─ 第2C章：再次袭击 [ch2c_attack]
      │   │   └─ 陷阱触发，但凶手逃脱并反击
      │   │
      │   └─ 第2D章：陷阱反制 [ch2d_trap]
      │       └─ 成功抓住可疑人物
      │
      └─ 从第1C章分出：
          └─ 第2E章：孤军奋战 [ch2e_alone]
              └─ 孤立无援，只能依靠自己
              │
第3层（真相揭晓）
      ├─ 从第2A章分出：
      │   ├─ 第3A章：地下室的秘密 [ch3a_basement]
      │   │   └─ 发现20年前的事故真相
      │   │
      │   └─ 第3B章：二次死亡 [ch3b_death2]
      │       └─ 追踪失败，又有人被杀
      │
      ├─ 从第2B章分出：
      │   ├─ 第3C章：分裂行动 [ch3c_split]
      │   │   └─ 团队因怀疑而分裂
      │   │
      │   └─ 第3D章：联手调查 [ch3d_team]
      │       └─ 与可信赖的人联手
      │
      ├─ 从第2C章分出：
      │   └─ 第3E章：逃离计划 [ch3e_escape]
      │       └─ 决定逃离旅馆
      │
      ├─ 从第2D章分出：
      │   └─ 第3F章：真凶现身 [ch3f_reveal]
      │       └─ 抓到的人揭露真相
      │
      └─ 从第2E章分出：
          └─ 第3G章：英雄或烈士 [ch3g_hero]
              └─ 孤身面对真相
              │
第4层（结局）
      └─ 第4章：多重结局 [ch4_endings]
          ├─ 结局A：真相大白（完美结局）
          │   └─ 成功推理，凶手落网，揭露20年前的真相
          │
          ├─ 结局B：绝望深渊（最坏结局）
          │   └─ 推理失败，所有人被杀，真相永埋雪山
          │
          ├─ 结局C：各个击破（凶手胜利）
          │   └─ 团队分裂，被凶手逐个击破
          │
          ├─ 结局D：险中求胜（好结局）
          │   └─ 团队合作成功制服凶手
          │
          ├─ 结局E：雪山逃生（中性结局）
          │   └─ 逃离旅馆，但真相未明
          │
          ├─ 结局F：正义审判（正义结局）
          │   └─ 不仅揭露凶手，还揭发20年前所有帮凶
          │
          └─ 结局G：孤胆英雄/全员覆灭（双面结局）
              └─ 取决于最后的选择：英雄独自揭发真相 或 全军覆没
```

### 章节连接矩阵

| 起始章节 | 可前往章节 | 条件 |
|---------|-----------|------|
| ch00 | ch1a | 选择"仔细调查现场" |
| ch00 | ch1b | 选择"设置陷阱" |
| ch00 | ch1c | 选择"不信任他人" |
| ch1a | ch2a | 发现并追踪可疑人影 |
| ch1a | ch2b | 发现多处矛盾证词 |
| ch1b | ch2c | 陷阱触发但凶手逃脱 |
| ch1b | ch2d | 成功抓住可疑人物 |
| ch1c | ch2e | 坚持独自调查 |
| ch2a | ch3a | 追踪到地下室 |
| ch2a | ch3b | 追踪失败 |
| ch2b | ch3c | 选择"分头行动" |
| ch2b | ch3d | 选择"联手调查" |
| ch2c | ch3e | 选择"逃离旅馆" |
| ch2d | ch3f | 审问可疑人物 |
| ch2e | ch3g | 孤身面对危机 |
| ch3a-ch3g | ch4_endings | 各条线收束到对应结局 |

---

## 隐藏分支生成规则

### 触发条件

隐藏分支在以下情况下触发：

1. **非标准行为**：玩家的选择不在预设选项范围内
   - 例如：要求检查某个预设剧情未提及的地方
   - 例如：尝试进行预设外的互动（如尝试逃出窗户）

2. **深度推理**：玩家提出超出当前章节设计的推理
   - 例如：过早推断出凶手身份
   - 例如：发现剧情设计外的逻辑漏洞

3. **创意解法**：玩家尝试独特的解决方案
   - 例如：使用特殊道具组合
   - 例如：提出非预设的人物关系猜测

4. **角色扮演**：玩家深度扮演角色，做出符合角色但超出预设的行为
   - 例如：基于透的心理学背景进行详细的人物分析
   - 例如：提出利用专业知识的行动方案

### 生成流程

当检测到隐藏分支触发时：

```
1. 暂停当前章节
   ↓
2. 提示玩家：
   "【系统提示】检测到你触发了隐藏分支！
   你的行动超出了预设的故事线，系统正在为你生成专属剧情分支...
   这可能需要30-60秒，请稍候。"
   ↓
3. AI分析：
   - 玩家的具体行为
   - 当前游戏状态（存活角色、已知线索等）
   - 与主线剧情的关系
   - 与核心真相的关系
   ↓
4. 生成新分支：
   - 创建新的章节内容
   - 设计新的线索和选择
   - 安排分支回归路径或独立结局
   ↓
5. 提示玩家：
   "【系统提示】隐藏分支生成完毕！
   新章节：【章节名称】
   这是根据你的行动专门生成的剧情，请继续你的探索。"
   ↓
6. 进入新分支章节
```

### 分支回归机制

隐藏分支会通过以下方式回归主线或形成独立结局：

1. **软回归**：隐藏分支剧情后，自然过渡到某个主线章节
   - 保留隐藏分支获得的线索和状态变化
   - 示例：探索了隐藏房间后，回到主线调查

2. **硬回归**：隐藏分支产生关键后果，强制进入特定主线章节
   - 示例：触发了某个事件，导致剧情急转直下

3. **分支结局**：隐藏分支直接通往独特结局
   - 完全独立于主线的结局
   - 示例：成功说服所有人提前逃离旅馆

### 分支质量控制

生成隐藏分支时必须保证：

1. **逻辑一致性**：与已建立的世界观和人物设定一致
2. **叙事连贯性**：不破坏核心剧情的合理性
3. **趣味性**：为玩家带来新鲜和有意义的体验
4. **公平性**：不因为隐藏分支让推理变得不可能或过于简单

---

## 玩家游玩规则

### 基本规则

1. **阅读与选择**
   - 仔细阅读每个章节的剧情描述
   - 在分歧点做出选择，推动剧情发展
   - 没有"正确"的选择，但会导向不同结局

2. **线索收集**
   - 主动探索环境，与角色对话
   - 记录重要信息和矛盾之处
   - 线索不会直接告诉答案，需要综合推理

3. **推理与指认**
   - 随时可以尝试推理凶手
   - 必须提供：凶手身份 + 作案动机 + 关键证据（至少3条）
   - 推理失败有惩罚，推理成功进入结局

4. **生存与失败**
   - 部分选择会导致角色死亡（包括主角）
   - 主角死亡 = 游戏失败，可从最近章节重新开始
   - 所有角色死亡 = 最坏结局

### 游玩提示

#### 新手建议
- 第一次游玩建议跟随直觉，体验完整故事
- 注意角色的微表情和语言细节
- 不要过早下结论，多收集证据
- 相信你的心理学背景（主角能力）

#### 进阶技巧
- 留意时间线上的矛盾
- 对比不同角色对同一事件的描述
- 关注角色的行为动机，而不只是行为本身
- 探索环境时尝试非常规操作（可能触发隐藏分支）

#### 多周目要素
- 不同的选择通往不同结局
- 某些线索只在特定路线出现
- 完整拼图需要多次游玩
- 尝试触发所有隐藏分支，发现更多秘密

### 特殊系统

#### 信任度系统
- 与角色的互动会影响信任度
- 高信任度角色会提供更多情报
- 低信任度可能导致角色不配合甚至敌对
- 真理的信任度影响某些关键结局

#### 时间压力系统
- 某些章节有时间限制（暗示性）
- 调查时间越长，凶手准备越充分
- 但过快推进可能错过关键线索
- 平衡速度与细致度是关键

#### 心理状态系统
- 主角透的心理状态会影响判断
- 目睹恐怖场景、角色死亡会降低心理状态
- 低心理状态时会出现误判和幻觉
- 与真理互动可以恢复心理状态

---

## 胜利条件与失败条件

### 胜利条件

**完全胜利（完美结局）**:
1. 正确推理出真凶身份
2. 揭露完整的作案动机和20年前的真相
3. 提供完整证据链
4. 主角和真理存活
5. 至少5名其他角色存活

**普通胜利（好结局）**:
1. 正确推理出真凶身份
2. 给出基本合理的动机
3. 提供至少3条关键证据
4. 主角存活

**惨胜（险胜结局）**:
1. 正确推理出真凶
2. 主角存活
3. 但付出重大代价（多人死亡或真相未完全揭露）

### 失败条件

**Game Over（游戏结束）**:
1. 主角透死亡
2. 所有角色死亡
3. 三次推理失败（激怒凶手导致屠杀）

**坏结局（非Game Over但未胜利）**:
1. 错误指认凶手并导致真凶逃脱
2. 选择逃离但真相未明
3. 选择沉默，接受封口费

---

## 氛围营造指南

### 文字风格

1. **环境描写**：强调雪山、暴风雪、孤立无援的氛围
   ```
   示例：窗外的暴风雪愈发猛烈，厚厚的积雪已经封死了旅馆的大门。
   电话线也在几小时前断了，手机信号全无。这座木质的旅馆仿佛
   变成了与世隔绝的孤岛，而在这孤岛上，死亡正在悄然降临...
   ```

2. **悬疑制造**：利用不确定性和暗示
   ```
   示例：你推开走廊尽头的门，里面一片漆黑。空气中飘散着一股
   奇怪的气味——是血腥味吗？你不确定。黑暗中似乎有什么东西
   在移动，但当你打开手电筒时，那里什么都没有...
   ```

3. **心理描写**：展现角色内心恐惧和矛盾
   ```
   示例：透的手在微微颤抖。理性告诉他，凶手就在这些人中间，
   但他真的能相信自己的判断吗？如果推理错误，下一个死的会是谁？
   会是真理吗？这个念头让他的心脏几乎停止跳动。
   ```

### 情绪节奏

```
第0章：紧张 → 恐惧（发现尸体）
第1层：恐惧 → 警惕（开始调查）
第2层：警惕 → 绝望/希望（危机加深或有所进展）
第3层：高潮（真相逐渐显现，最后的对决）
第4层：结局情绪（根据结局类型而定）
```

### 恐怖元素运用

1. **视觉恐怖**：尸体的描写（适度，不过分血腥）
2. **听觉恐怖**：风声、脚步声、破碎声
3. **心理恐怖**：不确定性、背叛、孤立
4. **悬疑恐怖**：未知的威胁、时间压力

---

## 技术实现说明

### Skill 结构

每个章节对应一个独立的 Skill 文件夹，结构如下：

```
.claude/skills/ch00_start/
  └── SKILL.md          # 章节对应的SKILL数据
```

### 章节prompt模板

每个章节的CLAUDE.md应包含：

1. **章节信息**：章节编号、标题、前置章节
2. **当前状态检查**：读取玩家当前状态
3. **剧情内容**：该章节的故事文本
4. **分支判断**：根据状态和选择判断下一步
5. **隐藏分支检测**：识别非预设行为
6. **状态更新**：更新玩家状态并保存

### 状态持久化

使用JSON文件保存游戏状态：

```json
文件：game_state.json
{
  "player_name": "玩家名",
  "current_chapter": "ch00_start",
  "chapter_history": ["ch00_start"],
  "alive_characters": [...],
  "dead_characters": [...],
  "collected_clues": [...],
  "trust_levels": {...},
  "suspicion_points": {...},
  "player_choices": [...],
  "discovered_secrets": [...],
  "mental_state": 100,
  "time_elapsed": "第一天晚上9点"
}
```

### 章节间通信

- 前一章节结束时保存state
- 下一章节开始时读取state
- 根据state判断剧情和选项

---

## 结语

《恐怖惊魂夜》旨在提供一个沉浸式的推理体验，让玩家感受到雪山孤馆中的紧张与恐惧，通过自己的智慧揭开层层迷雾下的真相。

游戏的核心不仅在于"找出凶手"，更在于探索人性的复杂——20年前的贪婪、愧疚、恐惧如何塑造了今天的悲剧。每一个角色都不是简单的善恶二元，而是在道德灰色地带挣扎的真实个体。

愿每一位玩家都能享受这场惊心动魄的推理之旅。

**请从 ch00_start 开始你的游戏！**

---

*游戏设计：Claude*
*版本：1.0*
*最后更新：2025-10-22*
