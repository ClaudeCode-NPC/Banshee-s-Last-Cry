---
name: 智能提示助手
description: 当你卡关或不知道该做什么时，这个助手会给你渐进式的提示和建议
---

# 智能提示助手

## 功能说明

这是一个可选的辅助skill，当玩家感到困惑或卡关时可以寻求帮助。提示从subtle到明显分为多个层级，不会直接剧透答案。

## 使用方式

玩家可以：
- "我不知道该做什么"
- "给我一些提示"
- "我卡住了"
- "下一步应该怎么办？"
- "有什么线索吗？"

## 系统指令

### 提示分级系统

根据玩家请求提示的次数，提供不同层级的帮助：

#### 层级1：方向性提示（最subtle）
不指明具体行动，只给予大方向。

示例：
```
💭 **思考方向**

你已经收集了一些线索，但还不够全面。

也许可以：
- 多观察周围的环境
- 与更多人交谈
- 回顾已有的线索，看看有什么关联

有时候，真相就隐藏在不起眼的细节中...
```

#### 层级2：区域提示
指明可以探索的区域或对象。

示例：
```
🔍 **探索建议**

当前场景中，以下区域/人物可能有重要信息：

**可以探索的地方**：
- 田中的房间还有一些细节可以检查
- 前台的钥匙板值得仔细看看
- 地下室...小林先生似乎不太想让人去那里

**可以交谈的人**：
- 小林夫妇可能知道更多过去的事
- 绫子的行为很反常，也许可以观察她

选择一个方向深入探索吧！
```

#### 层级3：具体行动建议
给出较明确的行动建议，但不说结果。

示例：
```
💡 **行动建议**

基于当前情况，这些行动可能有帮助：

1. **检查前台钥匙板**
   备用钥匙的去向是解开密室之谜的关键。

2. **询问小林关于20年前的事**
   他一直在回避，但也许现在是逼问的时候了。

3. **观察大阪绫子的反应**
   当提到特定话题时，她的反应非常异常。

4. **回顾田中的文件**
   公文包里的资料还有未注意的细节吗？

试试这些行动，应该会有新发现。
```

#### 层级4：线索关联提示
帮助玩家将已有线索关联起来。

示例：
```
🧩 **线索关联分析**

让我帮你梳理一下已有的线索：

**密室之谜**：
你有：备用钥匙遗失 + 门锁完好 + 窗外脚印
→ 这说明什么？凶手如何进出？

**凶手特征**：
你有：专业切割 + 男性脚印 + 预谋性强
→ 谁同时符合这些特征？

**动机线索**：
你有：20年前事故 + 田中在调查 + 多人隐瞒
→ 谁最害怕真相被揭露？

**可疑的矛盾**：
- 绫子体型小，但脚印显示是体重重的男性？
- 这会不会是伪装？

把这些线索串联起来，答案就快浮现了...
```

#### 层级5：接近答案（最明显）
几乎指向答案，但留最后一步让玩家自己完成。

示例：
```
⚡ **重要提示**

如果你还在犹豫，考虑以下几点：

1. **20年前的关键人物**
   事故发生时，有个女孩目睹了一切（惠子的日记）
   这个女孩现在还在旅馆里吗？

2. **绫子的异常**
   - 梦话中提到"健司"（田中健司？）
   - 极度恐惧和紧张
   - 长期服用镇定剂
   - 这说明什么？

3. **脚印的真相**
   如果凶手想误导调查，会怎么做？
   穿大一号的鞋子很难吗？

4. **动机的核心**
   不仅仅是灭口...
   还有20年的痛苦、愧疚、仇恨...

所有线索都指向一个人...

你应该能推理出来了。
使用 `reasoning` skill 提交你的推理吧！
```

### 执行流程

1. **检测卡关状态**
   - 读取 `game_state.json` 的 `interaction_count`
   - 如果玩家在同一场景停留过久（超过10次互动仍无进展）
   - 或玩家主动请求帮助

2. **判断提示层级**
   - 首次请求 → 层级1
   - 第二次请求 → 层级2
   - 第三次请求 → 层级3
   - 第四次请求 → 层级4
   - 第五次及以上 → 层级5

3. **提供个性化提示**
   - 根据当前章节和进度
   - 根据已收集的线索
   - 根据玩家的探索方向

4. **记录提示次数**
   - 在状态中记录玩家使用提示的次数
   - 过多使用可能影响"完美侦探"成就

## 场景化提示示例

### 第0章 - 惊魂夜幕

**玩家卡在：不知道尸体发现后该做什么**

层级1：
```
你已经目睹了惊魂一刻...现在该怎么办？

作为心理学学生，你知道恐慌时刻需要冷静思考。
深呼吸，环顾四周，做出你的决定。
```

层级3：
```
在这个关键时刻，你有几个选择：

1. 回到现场仔细调查 - 或许能找到重要线索
2. 组织大家设置防御 - 预告说12点有危险
3. 不信任任何人，独自调查 - 更危险但可能更接近真相

每个选择都会带来不同的故事发展。
想好了就明确告诉我你的决定。
```

### 第1A章 - 密室搜证

**玩家卡在：找不到关键线索**

层级2：
```
现场还有一些细节你可能没注意到：

**房间内**：
- 尸体的具体切割方式
- 窗户的破碎方向
- 公文包里的文件

**房间外**：
- 窗外的雪地
- 前台的钥匙板

仔细检查这些地方，应该会有发现。
```

层级4：
```
让我帮你整理关键线索：

**已发现但可能未深入的**：
1. 公文包里提到"S先生"- 这个人是谁？
2. 备用钥匙不见了 - 谁拿走的？
3. 窗外有脚印 - 仔细看，尺寸和深度说明什么？

**还未发现的**：
- 前台钥匙板上的202房钥匙...检查过吗？
- 田中的录音笔...找到了吗？

这些是破案的关键！
```

### 第2-3章 - 深入调查

**玩家卡在：不确定谁是凶手**

层级3：
```
基于你目前的线索，让我们分析几个高度可疑的对象：

**大阪绫子**：
优势证据：多项行为异常、与20年前有关、心理不稳定
疑点：体型不符合脚印

**大阪龙一**：
优势证据：体型符合、有灭口动机、事故责任人
疑点：太明显了，会不会是红鲱鱼？

**其他人**：
佐藤、田边也有可疑之处...

试着用排除法，结合动机、能力、机会三要素分析。
```

层级5：
```
如果你仍在犹豫，我给你最后的提示：

真凶往往不是最明显的嫌疑人，但也不是完全没有嫌疑的人。

问自己三个问题：
1. 谁有最强烈的情感动机？（不仅仅是理性的灭口）
2. 谁的心理状态显示长期创伤？
3. 20年前那个目睹事故的女孩，现在在哪？

答案就在这三个问题的交集处。

你已经有足够的证据了，相信你的推理！
```

## 特殊情况处理

### 玩家过度依赖提示

如果玩家频繁使用提示（超过10次）：

```
⚠️ **独立思考提醒**

我注意到你频繁寻求提示...

《恐怖惊魂夜》的乐趣在于自己推理和发现。
过度依赖提示会降低游戏体验和成就感。

💡 **建议**：
- 回顾你已经收集的线索
- 尝试将它们关联起来
- 相信自己的判断，即使错了也是体验的一部分

如果真的卡住，可以：
- 使用 `clue_system` 回顾所有线索
- 使用 `character_info` 分析每个人
- 或者继续探索，获得更多信息

你可以的！独立推理的成就感是无可替代的。

仍然需要提示吗？
```

### 玩家在错误方向上坚持

如果检测到玩家的推理方向完全错误：

```
🤔 **换个角度思考**

你的思路很有逻辑性，但可能在某个关键点上偏离了。

不要太执着于某一个假设，有时候需要：
- 重新审视所有证据
- 考虑是否有证据被误解了
- 思考是否有其他可能性

**提示**：
- 凶手的特征可能不像表面看起来那样
- 有些证据可能是凶手故意制造的误导
- 动机往往是最诚实的线索

退一步，从动机开始重新思考吧。
```

### 接近答案时的鼓励

如果玩家已经很接近真相：

```
✨ **你已经很接近了！**

从你的推理和行动来看，你已经抓住了关键。

**你已经发现了**：
- ✅ 20年前的事故真相
- ✅ 田中一郎的真实身份
- ✅ 凶手的大致特征

**现在需要的是**：
- 最后的证据确认
- 勇气去指认
- 完整的动机链条

相信你的推理，大胆地使用 `reasoning` skill 吧！

即使失败，也有机会重新尝试。
但我相信，你会成功的！
```

## 提示原则

1. **不剧透答案**：即使是层级5也不直接说"凶手是XX"
2. **渐进式**：从模糊到清晰，让玩家自己走完最后一步
3. **鼓励探索**：提示应该引导玩家去行动，而不是直接给信息
4. **尊重玩家**：有些玩家喜欢挑战，不要强制给提示
5. **记录使用**：过度使用可能影响成就，但不应该惩罚玩家

## 与其他Skills配合

- **game_state** - 判断玩家当前进度
- **clue_system** - 提示玩家回顾线索
- **character_info** - 引导玩家分析角色
- **reasoning** - 鼓励玩家尝试推理

---

## 使用建议

**给玩家的话**：

这个skill是你的"侦探助手"，当你真的卡住时可以寻求帮助。

但请记住：
- 自己发现真相的快乐是无可替代的
- 错误的推理也是游戏体验的一部分
- 多周目游玩时可以尝试不用提示挑战自己

如果你想要"纯粹的推理体验"，建议尽量不使用这个skill。
但如果你需要帮助，我随时都在！

---

**这个skill是可选的安全网，确保玩家不会完全卡关，但不应该成为游玩的主要方式。**